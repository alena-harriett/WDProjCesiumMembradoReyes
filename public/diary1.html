<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Diary₊˚⊹ ᰔ</title>

<style>
/* ===== GLOBAL & 3D SHARED SETTINGS ===== */
* { box-sizing: border-box; }
img { image-rendering: pixelated; }
body { margin: 0; height: 100vh; font-family: "MS PGothic", "Tahoma", Geneva, sans-serif; perspective: 1600px; overflow: hidden; background: #000; }
.room { position: absolute; inset: 0; background: linear-gradient(to bottom, #fdeaf2 0%, #f8cfe1 55%, #caa3b4 56%, #b38b9b 100%); }
.desk { position: absolute; bottom: 0; width: 100%; height: 38%; background: linear-gradient(#caa08c, #a97c65); box-shadow: inset 0 20px 40px rgba(0,0,0,0.25); }
.laptop-3d { width: 800px; height: 600px; position: absolute; bottom: 18%; left: 50%; transform: translateX(-50%) rotateX(18deg); transform-style: preserve-3d; }
.screen-shell { width: 760px; height: 460px; background: linear-gradient(#ffd9eb, #f6bcd3); border-radius: 18px; padding: 18px; box-shadow: 0 60px 120px rgba(0,0,0,0.45); }
.screen-frame { background: #fff3f9; height: 100%; padding: 14px; border-radius: 10px; box-shadow: inset 0 0 0 3px #ffb3d9; }
.screen { position: relative; height: 100%; background: linear-gradient(#fffdfc, #ffeef6); overflow: hidden; }

.blog-window { position: absolute; inset: 10px; bottom: 45px; background-color: #996855; border: 4px solid #f8accf; display: flex; flex-direction: column; z-index: 10; }
.blog-titlebar { background: linear-gradient(#ffd6ea, #ffb7d9); padding: 6px 10px; display: flex; justify-content: space-between; font-weight: bold; color: #692f1a; font-size: 14px; border-bottom: 2px solid #ff9acb; }
.blog-scroll-area { flex: 1; overflow-y: auto; background-image: url("https://i.pinimg.com/736x/28/d8/2a/28d82a402a6f78e40d10bcf2c2fcc33f.jpg"); padding: 15px; }

/* ===== DIARY CONTENT ===== */
.Header { width: 100%; height: 130px; border: 3px solid #e19c91; margin-bottom: 12px; background: #fffede; overflow: hidden; }
.Header img { width: 100%; height: 100%; object-fit: cover; }
.Divider { width: 100%; height: 35px; border: 2px solid #e19c91; margin-bottom: 12px; background: #fffede; }
.Divider img { width: 100%; height: 100%; object-fit: cover; }

.flex-container1, .flex-container2 { display: flex; gap: 12px; margin-bottom: 12px; }
.Directory, .TableOfContents, .Comments, .Diary { background-color: #e19c91; border: 3px solid #996855; padding: 12px; color: #692f1a; }
.Directory { width: 150px; flex-shrink: 0; }
.TableOfContents { flex: 7; text-align: center; }
.Comments { width: 150px; flex-shrink: 0;}

/* THE ANIMATED DIARY BOX */
.Diary { 
    flex: 10; 
    text-align: center; 
    position: relative; 
    perspective: 1000px;
    background-color: #fffede; /* Paper color */
    background-image: linear-gradient(#f1d6d6 1px, transparent 1px);
    background-size: 100% 20px; /* Lined paper look */
    min-height: 250px;
}

.diary-page {
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s;
    transform-origin: left center;
}

.page-flip {
    transform: rotateY(-20deg) scale(0.95);
    opacity: 0;
}

/* Bookmarks on the side */
.bookmarks {
    position: absolute;
    right: -10px;
    top: 20px;
    display: flex;
    flex-direction: column;
    gap: 5px;
}
.bookmark-tab {
    width: 35px;
    height: 18px;
    background: #fdb1bf;
    border: 2px solid #996855;
    border-left: none;
    font-size: 8px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}
.bookmark-tab:hover { background: #fffede; width: 40px; }

h1 { font-size: 13px; color: #fffede; text-align: center; margin: 0 0 10px; background: #996855; padding: 2px; letter-spacing: 1px; }

button, .blog-btn { font-family: inherit; background-color: #fdb1bf; border: 2px solid #996855; padding: 6px; width: 100%; margin-bottom: 6px; cursor: pointer; text-align: center; font-size: 11px; font-weight: bold; color: #692f1a; }
button:hover { background: #fffede; }

p { font-size: 12px; line-height: 1.4; margin: 6px 0; }
textarea { width: 100%; height: 60px; border: 2px solid #996855; background: #fffede; font-family: inherit; font-size: 11px; padding: 5px; margin-bottom: 5px; resize: none; }

.comment-box { background: rgba(255,255,255,0.4); border: 1px dashed #996855; padding: 8px; margin-top: 8px; text-align: left; }
.redacted { background: #692f1a; color: #692f1a; cursor: help; }
.redacted:hover { background: transparent; color: #ff0000; font-weight: bold; }

.live-indicator { font-size: 10px; color: #ff0000; animation: blink 1s infinite; font-weight: bold; }
@keyframes blink { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }

.oh img { width: 100px; display: block; margin: 20px auto; }
.Footer { text-align: center; color: #fffede; background: #996855; padding: 10px; font-size: 11px; margin-top: 20px; }

/* ===== TASKBAR ===== */
.taskbar { position: absolute; bottom: 0; left: 0; right: 0; height: 36px; background: linear-gradient(#ffb7d9, #ff93c6); border-top: 2px solid #ff6fb3; display: flex; align-items: center; justify-content: space-between; padding: 0 10px; font-size: 12px; z-index: 500; }
.taskbar-left { display: flex; gap: 6px; }
.task-btn { background: linear-gradient(#fff, #ffd6ea); border: 2px solid #ff6fb3; border-radius: 6px; padding: 4px 10px; font-weight: bold; cursor: pointer; font-family: inherit; color: #7a2f55; }
.keyboard { width: 800px; height: 200px; background: linear-gradient(#ffd1e8, #f3a9c8); margin: -10px auto 0; border-radius: 0 0 26px 26px; transform: rotateX(75deg) translateZ(-46px); box-shadow: 0 80px 100px rgba(0,0,0,0.4); }
</style>
</head>

<body>
<div class="room"></div><div class="desk"></div>

<div class="laptop-3d">
    <div class="screen-shell">
        <div class="screen-frame">
            <div class="screen">
                
                <div class="blog-window">
                    <div class="blog-titlebar">
                        <span>✿ Clemmy's Corner - Public Diary ✿</span>
                        <span style="cursor:pointer;" onclick="window.location.href='../desktop.html'">[ X ]</span>
                    </div>
                    
                    <div class="blog-scroll-area">
                        <div class="Header"><img src="https://64.media.tumblr.com/3b7e48caed4da480110eff58a9b8f851/f68b1ecfcc71eb9c-da/s250x400/a77da1387f446ad85049fc55a4061b0b51157841.gif"></div>
                        <div class="Divider"><img src="https://i5.glitter-graphics.org/pub/726/726615qqay0z8qmb.gif"></div>

                        <div class="flex-container1">
                            <div class="Directory">
                                <h1>DIRECTORY</h1>
                                <button onclick="window.location.href='../milk.html'">Home</button>
                                <button onclick="flipToPage(0)">Diary</button>
                                <button onclick="window.location.href='shrines2.html'">Shrines</button>
                                <button onclick="window.location.href='guestbook1.html'">Guestbook</button>

                            </div>
                            <div class="TableOfContents">
                                <h1>TABLE OF CONTENTS</h1>
                                <p>This is where I put all my writings and thoughts!</p>
                                <p class="live-indicator">● LIVE VIEWERS: 12,482</p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(0)"># 01 - <span class="redacted">NEW SETUP!</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(1)"># 02 - <span class="redacted">THE WHISPER</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(2)"># 03 - <span class="redacted">3:00 AM</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(3)"># 04 - <span class="redacted">STRANGE FANS</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(4)"># 05 - <span class="redacted">PERFECTION</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(5)"># 06 - <span class="redacted">THE SCRATCH</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(6)"># 07 - <span class="redacted">VALENTINE GLITCH</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(7)"># 08 - <span class="redacted">12,000 WATCHING</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(8)"># 09 - <span class="redacted">THE HAMMER</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(9)"># ERR - FILE_CORRUPTED</p>
                                <img src="https://files.catbox.moe/u2ct77.gif" style="width: 50px;">
                            </div>
                        </div>

                        <div class="flex-container2">
                            <div class="Comments">
                                <h1>COMMENTS</h1>
                                <textarea id="newComment" placeholder="Leave a nice gift..."></textarea>
                                <button id="addCommentBtn" onclick="saveComment()">Add Comment</button>
                                <div id="commentsContainer"></div>
                            </div>
                            
                            <div class="Diary" id="diaryContainer">
                                <div class="bookmarks">
                                    <div class="bookmark-tab" onclick="flipToPage(0)"># 01</div>
                                    <div class="bookmark-tab" onclick="flipToPage(1)"># 02</div>
                                    <div class="bookmark-tab" onclick="flipToPage(2)"># 03</div>
                                    <div class="bookmark-tab" onclick="flipToPage(3)"># 04</div>
                                    <div class="bookmark-tab" onclick="flipToPage(4)"># 05</div>
                                    <div class="bookmark-tab" onclick="flipToPage(5)"># 06</div>
                                    <div class="bookmark-tab" onclick="flipToPage(6)"># 07</div>
                                    <div class="bookmark-tab" onclick="flipToPage(7)"># 08</div>
                                    <div class="bookmark-tab" onclick="flipToPage(8)"># 09</div> 
                                    <div class="bookmark-tab" onclick="flipToPage(2)"># ERR</div>
                                </div>
                                
                                <div class="Diary" id="diaryContainer">
                                <div class="diary-page" id="diaryPage"></div>
                            </div>
                            </div>
                        </div>

                        <div class="oh"><img src="https://files.catbox.moe/ijeyee.gif"></div>
                        <div class="Footer">© 2025 Clemmy’s Corner — Made With Love ♡</div>
                    </div>
                </div>

                <div class="taskbar">
                    <div class="taskbar-left">
                        <button class="task-btn" onclick="alert('ClemmyOS v1.0')">Start</button>
                        <button class="task-btn" onclick="window.location.href='../desktop.html'">Home</button>
                    </div>
                    <div id="clock" style="font-weight: bold; color: #7a2f55;"></div>
                </div>

            </div>
        </div>
    </div>
    <div class="keyboard"></div>
</div>

<script>
const journalEntries = [
    {
        date: "02/01",
        title: "ENTRY #01: NEW SETUP!",
        content: `<p>My friend brought over this computer she found at a garage sale. It's so cute and chunky! It smells a little like <span class="redacted">old dust and ozone</span>, but it runs my blog software perfectly. Best gift ever!</p>`
    },
    {
        date: "02/03",
        title: "ENTRY #02: THE WHISPER",
        content: `<p>Is it just me, or are old computers really loud? The fan makes this strange <span class="redacted">hissing sound</span>. Sometimes, if I sit in silence, it sounds like it's saying my name. Just mechanical whirring, I'm sure! ♡</p>`
    },
    {
        date: "02/05",
        title: "ENTRY #03: 3:00 AM",
        content: `<p>I woke up last night and the room was glowing pink. The computer <span class="redacted">turned itself on</span>. My blog was open. I don't remember leaving it on... maybe a power surge?</p>`
    },
    {
        date: "02/08",
        title: "ENTRY #04: STRANGE FANS",
        content: `<p>My viewer count jumped from 50 to 2,000 overnight! They don't talk much, though. They just post <span class="redacted">empty strings</span> of text. It feels like they're waiting for something.</p>`
    },
    {
        date: "02/10",
        title: "ENTRY #05: PERFECTION",
        content: `<p>I feel like I have to look better for the blog. I spent 4 hours on my hair today. If I'm not <span class="redacted">perfect</span>, the fans might leave. But the more I look in the mirror, the more I feel like my reflection is <span class="redacted">lagging behind</span>.</p>`
    },
    {
        date: "02/12",
        title: "ENTRY #06: THE SCRATCH",
        content: `<p>Something is wrong. I felt something <span class="redacted">sharp and cold</span> drag across my shoulder while I was typing. I turned around and nothing was there. Just the computer screen, humming.</p>`
    },
    {
        date: "02/14",
        title: "ENTRY #07: VALENTINE GLITCH",
        content: `<p>Happy Valentine's Day. I tried to post a photo of my flowers, but the image <span class="redacted">distorted</span>. There's a tall, shadow-like shape in the corner of every photo I take now. I think the lens is broken.</p>`
    },
    {
        date: "02/16",
        title: "ENTRY #08: 12,000 WATCHING",
        content: `<p>The viewer count is at 12,482. They are all silent. I can't leave the desk. I feel like if I stand up, <span class="redacted">it will catch me</span>. My skin feels like it's being watched from the inside.</p>`
    },
    {
        date: "02/18",
        title: "ENTRY #09: THE HAMMER",
        content: `<p>I can't take the whispering anymore. I'm taking this thing to the <span class="redacted">Clearing in the Woods</span>. I have a hammer. I'm going to end this. It keeps saying <span class="redacted">I AM PART OF THE CIRCUIT NOW</span>.</p>`
    },
    {
        date: "02/20",
        title: "ENTRY #10: THE END",
        content: `<p style="color:red; font-weight:bold;">44.2321° N, 76.4951° W</p>
                  <p>The hammer did nothing. The screen didn't even scratch. I am standing in the snow and I can see <span class="redacted">THE ENTITY</span> behind me in the trees. It isn't in the computer anymore. It's behind me.</p>
                  <p style="background:black; color:white; padding:5px;">YOU WILL NEVER GET RID OF ME.</p>`
    }
];

function flipToPage(index) {
    const pageEl = document.getElementById('diaryPage');
    pageEl.classList.add('page-flip');
    setTimeout(() => {
        const entry = journalEntries[index];
        pageEl.innerHTML = `<h1>${entry.title}</h1><p style="font-size:9px; color:#692f1a;">Date: ${entry.date}</p>${entry.content}`;
        pageEl.classList.remove('page-flip');
    }, 300);
}

// Generate Archive and TOC
const archiveBox = document.getElementById('archiveLinks');
const tocBox = document.getElementById('tocLinks');

if (archiveBox && tocBox) {
    journalEntries.forEach((entry, index) => {
        const btn = document.createElement('button');
        btn.textContent = entry.date;
        btn.onclick = () => flipToPage(index);
        archiveBox.appendChild(btn);

        const tocItem = document.createElement('p');
        tocItem.style.cursor = "pointer";
        tocItem.style.fontSize = "10px";
        tocItem.innerHTML = `[${entry.date}] - <span class="redacted">${entry.title}</span>`;
        tocItem.onclick = () => flipToPage(index);
        tocBox.appendChild(tocItem);
    });
}

// Clock logic (Fixed selector)
function updateClock() {
    const clock = document.getElementById('clock');
    if(!clock) return;
    const d = new Date();
    clock.textContent = d.getHours() + ":" + (d.getMinutes()<10?'0':'') + d.getMinutes() + ":" + (d.getSeconds()<10?'0':'') + d.getSeconds();
}
setInterval(updateClock, 1000); 
updateClock();

function saveComment() {
    const textInput = document.getElementById('newComment');
    const text = textInput.value;
    if (!text) return;
    const comment = { text, date: new Date().toLocaleDateString() };
    let comments = JSON.parse(localStorage.getItem('savedDiaryComments')) || [];
    comments.push(comment);
    localStorage.setItem('savedDiaryComments', JSON.stringify(comments));
    textInput.value = "";
    loadComments();
}

function loadComments() {
    const container = document.getElementById('commentsContainer');
    const comments = JSON.parse(localStorage.getItem('savedDiaryComments')) || [];
    const defaults = [{text: "You're so pretty! Post more!", date: "02/16/25"}];
    const display = comments.length > 0 ? comments : defaults;
    container.innerHTML = display.map(c => `
        <div class="comment-box">
            <h3 style="font-size:9px;">User_${Math.floor(Math.random()*999)} — ${c.date}</h3>
            <p>${c.text}</p>
        </div>
    `).reverse().join('');
}
loadComments();
</script>
</body>
</html>