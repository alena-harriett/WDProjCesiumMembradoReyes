<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Clemmy's Corner - Guestbook êîå’û. .’ûê¶Ø</title>
<link href="https://fonts.googleapis.com/css2?family=Indie+Flower&family=VT323&display=swap" rel="stylesheet">

<style>
/* ===== GLOBAL SETTINGS ===== */
* { box-sizing: border-box; }
img { image-rendering: pixelated; }
body { 
    margin: 0; height: 100vh; 
    font-family: "MS PGothic", "Tahoma", sans-serif; 
    perspective: 1600px; overflow: hidden; background: #000; 
}
.room { position: absolute; inset: 0; background: linear-gradient(to bottom, #fdeaf2 0%, #f8cfe1 55%, #caa3b4 56%, #b38b9b 100%); }
.desk { position: absolute; bottom: 0; width: 100%; height: 38%; background: linear-gradient(#caa08c, #a97c65); box-shadow: inset 0 20px 40px rgba(0,0,0,0.25); }

/* ===== 3D LAPTOP CONTAINER ===== */
.laptop-3d {
    width: 1200px; height: 900px;
    position: absolute; left: 50%; top: 50%;
    transform: translate(-50%, -50%) rotateX(18deg) translateY(50px);
    transform-style: preserve-3d;
}

.screen-shell {
    width: 100%; height: 80%;
    background: linear-gradient(#ffd9eb, #f6bcd3);
    border-radius: 18px; padding: 18px;
    box-shadow: 0 60px 120px rgba(0,0,0,0.45);
}

.screen-frame {
    background: #fff3f9; height: 100%;
    padding: 14px; border-radius: 10px;
    box-shadow: inset 0 0 0 3px #ffb3d9;
}

.screen {
    position: relative; height: 100%;
    background: linear-gradient(#fffdfc, #ffeef6);
    overflow: hidden;
    cursor: url('https://cur.cursors-4u.net/cursors/cur-2/cur116.cur'), auto; /* Cute cursor */
}

/* CRT Scanlines */
.screen::before {
    content: ""; position: absolute; inset: 0;
    background: repeating-linear-gradient(to bottom, rgba(255,255,255,0.1) 0px, rgba(255,255,255,0.1) 1px, transparent 1px, transparent 3px);
    z-index: 900; pointer-events: none;
}
.screen::after {
    content: ""; position: absolute; inset: 0;
    background: radial-gradient(circle, rgba(0,0,0,0) 60%, rgba(0,0,0,0.2) 100%);
    z-index: 901; pointer-events: none;
}

/* ===== BLOG UI ===== */
.blog-window { 
    position: absolute; inset: 10px; bottom: 45px; 
    background-color: #996855; border: 4px solid #f8accf; 
    display: flex; flex-direction: column; z-index: 10; 
    transition: transform 0.2s;
}

.blog-titlebar { 
    background: linear-gradient(#ffd6ea, #ffb7d9); padding: 6px 10px; 
    display: flex; justify-content: space-between; align-items: center;
    font-weight: bold; color: #692f1a; font-size: 14px; 
    border-bottom: 2px solid #ff9acb; 
}

.blog-scroll-area { 
    flex: 1; overflow-y: auto; 
    background-image: url("https://i.pinimg.com/736x/28/d8/2a/28d82a402a6f78e40d10bcf2c2fcc33f.jpg"); 
    padding: 15px; 
}

/* Custom Scrollbar */
.blog-scroll-area::-webkit-scrollbar { width: 10px; }
.blog-scroll-area::-webkit-scrollbar-track { background: #fffede; border-left: 2px solid #996855; }
.blog-scroll-area::-webkit-scrollbar-thumb { background: #fdb1bf; border: 2px solid #996855; }

/* Layout Blocks */
.Header { width: 100%; height: 130px; border: 3px solid #e19c91; margin-bottom: 12px; background: #fffede; overflow: hidden; }
.Header img { width: 100%; height: 100%; object-fit: cover; }
.Divider { width: 100%; height: 35px; border: 2px solid #e19c91; margin-bottom: 12px; background: #fffede; display: flex; align-items: center; justify-content: center; overflow: hidden;}

.flex-container { display: flex; gap: 12px; margin-bottom: 12px; align-items: flex-start; }

.box { 
    background-color: #e19c91; border: 3px solid #996855; 
    padding: 12px; color: #692f1a; text-align: center; 
    box-shadow: 4px 4px 0px rgba(0,0,0,0.1);
}

h1 { font-size: 14px; color: #fffede; text-align: center; margin: 0 0 10px; background: #996855; padding: 2px; letter-spacing: 1px; font-family: 'Courier New', monospace; }

/* Buttons */
.blog-btn { 
    font-family: 'MS PGothic', sans-serif; 
    background-color: #fdb1bf; border: 2px solid #996855; 
    padding: 6px; width: 100%; margin-bottom: 6px; 
    cursor: pointer; text-align: center; font-size: 11px; 
    font-weight: bold; color: #692f1a; transition: 0.2s;
}
.blog-btn:hover { background: #fffede; transform: translate(-2px, -2px); box-shadow: 2px 2px 0 #692f1a; }
.blog-btn:active { transform: translate(0, 0); box-shadow: none; }

/* Comments Section */
textarea { 
    width: 100%; height: 60px; border: 2px solid #996855; 
    background: #fffede; font-family: 'Indie Flower', cursive; 
    font-size: 14px; padding: 5px; margin-bottom: 5px; resize: none; outline: none;
}

.guestbook-comment { 
    background: rgba(255,255,255,0.6); border: 1px dashed #996855; 
    padding: 8px; margin-top: 8px; text-align: left; 
    box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
}
.guestbook-comment h3 { font-size: 10px; margin: 0; color: #692f1a; font-family: 'Courier New'; text-transform: uppercase; border-bottom: 1px dotted #e19c91;}
.guestbook-comment p { font-size: 12px; margin: 4px 0 0 0; font-family: 'Indie Flower', cursive; }

/* Special Classes */
.lore-text { color: red; font-family: 'VT323', monospace; font-size: 14px !important; background: #000; color: #0f0; padding: 2px; }
.shaking { display:inline-block; animation: shake 0.5s infinite; }

/* Status & Gift */
.visitor-counter {
    background: #000; color: #0f0;
    font-family: 'VT323', monospace;
    font-size: 20px; padding: 2px 8px;
    border: 2px inset #996855;
    display: inline-block; margin: 5px 0;
    letter-spacing: 2px;
}

.gift-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 5px; }
.gift-item { 
    font-size: 20px; cursor: help; 
    background: rgba(255,255,255,0.3); padding: 5px;
    border-radius: 5px; transition: 0.2s;
}
.gift-item:hover { transform: scale(1.1); background: #fff; }
.gift-item span { font-size: 8px; display: block; color: #692f1a; font-weight: bold; font-family: sans-serif;}

/* Popups */
#historyPopup { 
    display: none; position: absolute; top: 50%; left: 50%; 
    transform: translate(-50%, -50%) translateZ(100px); 
    width: 320px; height: 350px; background: #fffede; 
    border: 3px solid #996855; z-index: 5000; 
    flex-direction: column; box-shadow: 20px 20px 0px rgba(0,0,0,0.4);
}
.popup-content { padding: 10px; overflow-y: auto; flex: 1; font-family: 'VT323', monospace; font-size: 14px; }
.history-entry { border-bottom: 1px dashed #996855; padding: 5px 0; }

/* Taskbar & Keyboard */
.taskbar { position: absolute; bottom: 0; left: 0; right: 0; height: 36px; background: linear-gradient(#ffb7d9, #ff93c6); border-top: 2px solid #ff6fb3; display: flex; align-items: center; justify-content: space-between; padding: 0 10px; font-size: 12px; z-index: 500; }
.task-btn { background: #fff; border: 2px solid #ff6fb3; border-radius: 4px; padding: 2px 8px; font-weight: bold; cursor: pointer; color: #7a2f55; box-shadow: 2px 2px 0 rgba(0,0,0,0.1); }
.keyboard { width: 1250px; height: 300px; background: linear-gradient(#ffd1e8, #f3a9c8); margin-top: -14%; margin-left: 20.5%; position: absolute; border-radius: 0 0 26px 26px; transform: rotateX(75deg) translateZ(-50px) translateX(-21%); box-shadow: 0 80px 100px rgba(0,0,0,0.4); }

/* Horror FX */
#horrorOverlay {
    position: absolute; inset: 0; display: none; pointer-events: none; z-index: 9999;
    background: url('https://media.tenor.com/bCcpR2jZtGgAAAAM/static-tv.gif');
    opacity: 0.3; mix-blend-mode: hard-light;
}
.glitch-mode { filter: invert(1) hue-rotate(180deg); transition: 0.1s; }
.tilted { transform: rotate(2deg); }
.corrupted-text { font-family: 'VT323'; color: red; background: black; }

@keyframes shake {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    25% { transform: translate(-2px, 0px) rotate(1deg); }
    50% { transform: translate(2px, 2px) rotate(-1deg); }
    75% { transform: translate(-1px, -1px) rotate(1deg); }
    100% { transform: translate(1px, -2px) rotate(-1deg); }
}
</style>
</head>

<body>
<div class="room"></div><div class="desk"></div>

<div class="laptop-3d">
    <div class="screen-shell">
        <div class="screen-frame">
            <div class="screen">
                
                <div id="horrorOverlay"></div>

                <div id="historyPopup">
                    <div class="blog-titlebar" style="background: #333; color: #fff;">
                        <span>sys_log_dump.txt</span>
                        <span style="cursor:pointer;" onclick="togglePopup()">[ X ]</span>
                    </div>
                    <div class="popup-content">
                        <div class="history-entry"><span style="color:blue;">2022:</span> "Your blog is so cozy!"</div>
                        <div class="history-entry"><span style="color:blue;">2023:</span> "Where did you get that dress?"</div>
                        <div class="history-entry"><span style="color:red;">Jan 2025:</span> "This isn't Clementine writing anymore."</div>
                        <div class="history-entry"><span style="color:red;">Feb 2025:</span> "GET OUT OF THE HOUSE CLEM."</div>
                        <div class="history-entry" style="background:black; color:red;">SYSTEM: ENTITY DETECTED IN WEBCAM.</div>
                    </div>
                </div>

                <div class="blog-window" id="mainWindow">
                    <div class="blog-titlebar">
                        <span>‚úø Clemmy's Corner - Guestbook ‚úø</span>
                        <span style="cursor:pointer;" onclick="window.location.href='../desktop.html'">[ X ]</span>
                    </div>
                    
                    <div class="blog-scroll-area">
                        <div class="Header">
                            <img src="https://64.media.tumblr.com/3b7e48caed4da480110eff58a9b8f851/f68b1ecfcc71eb9c-da/s250x400/a77da1387f446ad85049fc55a4061b0b51157841.gif">
                        </div>
                        <div class="Divider">
                            <img src="https://i5.glitter-graphics.org/pub/726/726615qqay0z8qmb.gif" style="height:auto; width:auto;">
                        </div>

                        <div class="flex-container">
                            <div class="box" style="flex: 2;">
                                <h1>MENU</h1>
                                <button class="blog-btn" onclick="window.location.href='../milk.html'">Home</button>
                                <button class="blog-btn" onclick="window.location.href='diary1.html'">Diary</button>
                                <button class="blog-btn" onclick="togglePopup()">Archive</button>
                            </div>
                            <div class="box" style="flex: 5;">
                                <h1>LEAVE A NOTE!</h1>
                                <p style="font-family:'Indie Flower'; font-size:14px;">Please be nice! <br>I read every single one... even the bad ones. ‚òπ</p>
                                <textarea id="newComment" placeholder="Write something meaningful..." oninput="checkInput()"></textarea>
                                <button class="blog-btn" onclick="saveLog()">Post Log</button>
                            </div>
                        </div>

                        <div class="flex-container">
                            <div class="box" style="flex: 2;">
                                <h1>STATUS</h1>
                                <img src="https://64.media.tumblr.com/9f25f4d69e58f4066e525fee2bda99e4/ebffab2ff4de37b8-74/s250x400/970b79b0b84fc855656733b55701338bb52057ea.gif" style="width: 100%;">
                                <div style="margin: 8px 0;">
                                    <span style="font-size: 8px; font-weight:bold;">VISITORS:</span><br>
                                    <div class="visitor-counter" id="hitCounter">012482</div>
                                </div>
                            </div>
                            
                            <div class="box" style="flex: 3; display:flex; flex-direction:column;">
                                <h1>RECENT LOGS</h1>
                                <div id="commentsContainer" style="height: 180px; overflow-y: auto;">
                                    </div>
                            </div>

                            <div class="box" style="flex: 2;">
                                <h1>GIFTS</h1>
                                <div class="gift-grid">
                                    <div class="gift-item" onclick="sendGift('Teddy')">üß∏<span>Plush</span></div>
                                    <div class="gift-item" onclick="sendGift('Lipstick')">üíÑ<span>Makeup</span></div>
                                    <div class="gift-item" onclick="sendGift('Bow')">üéÄ<span>Bow</span></div>
                                    <div class="gift-item" onclick="sendGift('Cake')">üç∞<span>Cake</span></div> 
                                </div>
                                <div style="margin-top:10px; font-size:9px;">
                                    Total: <span id="giftCount">890</span>
                                </div>
                                <img src="https://media.tenor.com/QWeLUwbqYFcAAAAi/danidandan-gyaru.gif" style="width:50px; margin-top:5px;">
                            </div>
                        </div>
                        
                        <div style="text-align:center; padding: 10px; color: #fff; font-size: 10px; opacity:0.7;">
                            ¬© 2025 Clemmy‚Äôs Corner
                        </div>
                    </div>
                </div>

                <div class="taskbar">
                    <div style="display:flex; gap:5px;">
                        <button class="task-btn">Start</button>
                    </div>
                    <div id="clock" style="font-weight: bold; color: #7a2f55;"></div>
                </div>

            </div>
        </div>
    </div>
    <div class="keyboard"></div>
</div>

<script>
// --- CLOCK ---
function updateClock() {
    const d = new Date();
    document.getElementById('clock').textContent = d.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
}
setInterval(updateClock, 1000); updateClock();

// --- DATA & STATE ---
let corruptionLevel = 0;

function togglePopup() {
    const pop = document.getElementById('historyPopup');
    pop.style.display = (pop.style.display === 'flex') ? 'none' : 'flex';
}

// --- HAUNTED INPUT ---
function checkInput() {
    const val = document.getElementById('newComment').value.toLowerCase();
    const ta = document.getElementById('newComment');
    
    // Creepy reaction to specific words
    if (val.includes("help") || val.includes("run") || val.includes("behind you")) {
        ta.style.color = "red";
        ta.style.fontFamily = "Courier New";
        document.body.style.background = "#1a0000";
    } else {
        ta.style.color = "black";
        ta.style.fontFamily = "Indie Flower";
    }
}

// --- LOGGING SYSTEM ---
function saveLog() {
    const textInput = document.getElementById('newComment');
    const text = textInput.value;
    if (!text) return;
    
    const log = { text, date: new Date().toLocaleDateString(), isUser: true };
    let logs = JSON.parse(localStorage.getItem('guestbookLogs')) || [];
    logs.push(log);
    
    // Limit saved logs to 10 to prevent overflow
    if(logs.length > 10) logs.shift();
    
    localStorage.setItem('guestbookLogs', JSON.stringify(logs));
    textInput.value = "";
    loadLogs();
}

function loadLogs() {
    const container = document.getElementById('commentsContainer');
    
    // User logs
    const savedLogs = JSON.parse(localStorage.getItem('guestbookLogs')) || [];
    
    // Hardcoded Lore Logs (The Horror Story)
    const loreLogs = [
        { text: "OMG I love your new layout!! So aesthetic!", date: "02/20/25", isUser: false },
        { text: "Clem, why are you ignoring my DMs?", date: "02/19/25", isUser: false },
        { text: "Has anyone noticed the webcam light blinking in her videos?", date: "02/18/25", isUser: false },
        { text: "I DON'T THINK THAT IS HER IN THE PHOTOS.", date: "02/15/25", style: "color:red; font-family:monospace;", isUser: false },
        { text: "she is trapped in the machine she is trapped in the machine", date: "UNKNOWN", style: "background:black; color:white; font-size:9px;", isUser: false }
    ];

    // Combine user logs (top) with lore logs (bottom)
    const allLogs = [...savedLogs.reverse(), ...loreLogs];
    
    container.innerHTML = allLogs.map(l => `
        <div class="guestbook-comment" style="${l.style || ''}">
            <h3>${l.isUser ? 'Visitor' : 'Anonymous'} ‚Äî ${l.date}</h3>
            <p>${l.text}</p>
        </div>
    `).join('');
}
// Initial Load
loadLogs();

// --- VISITOR COUNTER GLITCH ---
function glitchCounter() {
    const counter = document.getElementById('hitCounter');
    let base = 12482;
    
    setInterval(() => {
        // 10% chance to glitch out
        if (Math.random() > 0.9) {
            counter.innerText = "666" + Math.floor(Math.random() * 999);
            counter.style.color = "red";
        } else {
            base++;
            counter.innerText = "0" + base;
            counter.style.color = "#0f0";
        }
    }, 2000);
}
glitchCounter();

// --- THE TRAP (GIFT BUTTON) ---
function sendGift(type) {
    const screen = document.querySelector('.screen');
    const overlay = document.getElementById('horrorOverlay');
    const countDisplay = document.getElementById('giftCount');
    const win = document.getElementById('mainWindow');

    corruptionLevel++;
    
    // Visual Glitch Effect
    screen.classList.add('glitch-mode');
    overlay.style.display = 'block';
    
    setTimeout(() => {
        screen.classList.remove('glitch-mode');
        overlay.style.display = 'none';
        
        // Behavior changes based on corruption level
        if (corruptionLevel === 1) {
            alert("Thanks! Clemmy loves " + type + "! ‚ô°");
            countDisplay.innerText = parseInt(countDisplay.innerText) + 1;
        } 
        else if (corruptionLevel === 2) {
            alert("sÃ∂heÃ∂ Ã∂dÃ∂oÃ∂esÃ∂nÃ∂'tÃ∂ Ã∂nÃ∂eÃ∂eÃ∂dÃ∂ Ã∂mÃ∂oÃ∂rÃ∂eÃ∂");
            win.classList.add('tilted');
            countDisplay.innerText = "NO";
            countDisplay.style.color = "red";
        } 
        else {
            // Full Horror Mode
            document.querySelector('.room').style.background = "#220000";
            document.body.style.background = "#220000";
            win.style.transform = "rotate(5deg) scale(0.9)";
            win.style.filter = "invert(1)";
            
            // Inject scary comment
            const container = document.getElementById('commentsContainer');
            container.insertAdjacentHTML('afterbegin', `
                <div class="guestbook-comment" style="background:black; border:2px solid red;">
                    <h3 style="color:red;">SYSTEM</h3>
                    <p class="shaking" style="color:red; font-size:16px;">STOP FEEDING THE AVATAR.</p>
                </div>
            `);
        }
    }, 200);
}

</script>
</body>
</html>