<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Clemmy's Corner - Desktop</title>

<style>
  /* ===== GLOBAL SETTINGS ===== */
  * { box-sizing: border-box; }
  img { image-rendering: pixelated; }
  
  /* Prevent scaling on mobile */
  /* Removed invalid CSS rule for meta[name="viewport"] */
      
  body {
      margin: 0;
      height: 100vh;
      font-family: "MS PGothic", "Tahoma", Geneva, sans-serif;
      perspective: 1600px;
      overflow: hidden;
      background: #000;
  }
  
  /* ===== ROOM ===== */
  .room {
    position: absolute;
    inset: 0;
    background-image: url("https://i.pinimg.com/1200x/e2/bc/27/e2bc277844c7c1746c9563f2b2ab0525.jpg");
  }
  
  /* ===== DESK ===== */
  .desk {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 38%;
    background-image: url("https://i.pinimg.com/736x/1f/7f/5e/1f7f5e89626876fba712d5567c96e048.jpg");
    box-shadow: inset 0 20px 40px rgba(0,0,0,0.25);
  }
  
  /* ===== LAPTOP ===== */
  .laptop-3d {
      width: 1200px;
      height: 900px;
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%) rotateX(18deg) translateY(50px);
      transform-style: preserve-3d;
  }
  
  /* ===== SCREEN ===== */
  .screen-shell {
    width: 100%;
    height: 80%;
    background: linear-gradient(#ffd9eb, #f6bcd3);
    border-radius: 18px;
    padding: 18px;
    box-shadow: 0 60px 120px rgba(0,0,0,0.45);
  }
  
  .screen-frame {
      background: #fff3f9;
      height: 100%;
      padding: 14px;
      border-radius: 10px;
      box-shadow: inset 0 0 0 3px #ffb3d9;
  }
  
  .screen {
    position: relative;
    height: 100%;
    background: linear-gradient(#fffdfc, #ffeef6);
    overflow: hidden;
  }
  
  .screen::after {
      content: " ";
      display: block;
      position: absolute;
      top: 0; left: 0; bottom: 0; right: 0;
      background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
                  linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
      z-index: 100;
      background-size: 100% 3px, 3px 100%;
      pointer-events: none;
      opacity: 0.4;
  }


/* ===== DESKTOP CONTENT ===== */
.desktop {
  position: absolute;
  inset: 0;
  padding: 18px;
  background-image: url("https://i.pinimg.com/736x/c8/99/e9/c899e9c7275c1d5501b753ece967fa2c.jpg");
  background-size: cover;
  z-index: 1;
}

.welcome-banner {
    position: absolute;
    top: 20px;
    right: 20px;
    background: rgba(255, 255, 255, 0.8);
    border: 2px solid #ff9acb;
    padding: 10px 15px;
    border-radius: 20px;
    color: #7a2f55;
    font-weight: bold;
    font-size: 13px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.icon-grid {
  display: grid;
  grid-template-columns: repeat(2, 90px);
  gap: 20px;
}

.icon {
  text-align: center;
  font-size: 12px;
  color: #ffffff;
  cursor: pointer;
  font-weight: bold;
}

.icon img {
  width: 48px;
  height: 48px;
  margin-bottom: 6px;
}

/* ===== WINDOWS ===== */
.window {
    position: absolute;
    top: 50px;
    left: 150px;
    width: 350px;
    background: #f0f0f0;
    border: 2px solid #000;
    box-shadow: 2px 2px 0 #fff inset, -2px -2px 0 #808080 inset;
    display: none;
    z-index: 2000;
}
.title-bar {
    background: linear-gradient(90deg, #ff6fb3, #ffb7d9);
    color: white;
    padding: 3px 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 11px;
    font-weight: bold;
}
.close-btn { background: #ccc; border: 1px solid #000; width: 16px; height: 16px; font-size: 10px; cursor: pointer; line-height: 12px; }
.window-body { padding: 10px; background: white; border: 1px solid #808080; margin: 2px; font-size: 12px; color: #333; }

/* ===== TASKBAR ===== */
.taskbar {
    position: absolute;
    bottom: 0; left: 0; right: 0; height: 36px;
    background: linear-gradient(#ffb7d9, #ff93c6);
    border-top: 2px solid #ff6fb3;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 10px;
    font-size: 12px;
    z-index: 500;
}

.taskbar-left {
    display: flex;
    gap: 6px;
}

/* ===== BUTTON STYLE ===== */
.task-btn {
  background: linear-gradient(#fff, #ffd6ea);
  border: 2px solid #ff6fb3;
  border-radius: 6px;
  padding: 4px 10px;
  font-weight: bold;
  cursor: pointer;
  font-family: inherit;
}

h1 { font-size: 15px; color: #fffede; text-align: center; margin: 0 0 10px; letter-spacing: 1px; background: #996855; padding: 2px; }
button { 
    font-family: inherit; background-color: #fdb1bf; border: 2px solid #996855; 
    padding: 6px; width: 100%; margin-bottom: 6px; cursor: pointer; 
    text-align: center; font-size: 11px; font-weight: bold; color: #692f1a;
}
button:hover { background: #fffede; }

/* ===== START MENU ===== */
.start-menu {
  position: absolute;
  bottom: 40px;
  left: 10px;
  width: 200px;
  background: #fff0f8;
  border: 3px solid #ff9acb;
  box-shadow: 0 8px 30px rgba(255,140,190,0.6);
  display: none;
  flex-direction: column;
  padding: 8px;
  z-index: 1000;
}

.start-menu button {
  background: none;
  border: none;
  padding: 8px;
  text-align: left;
  cursor: pointer;
  font-family: inherit;
  color: #692f1a;
  border-radius: 4px;
}

.start-menu button:hover { background: #ffd6ea; }

.keyboard {
    width: 1250px;
    height: 300px;
    background: linear-gradient(#ffd1e8, #f3a9c8);
    margin-top: -14%;
    margin-left: 20.5%;
    position: absolute;
    border-radius: 0 0 26px 26px;
    transform: rotateX(75deg) translateZ(-50px) translateX(-21%);
    box-shadow: 0 80px 100px rgba(0,0,0,0.4);
}
.poot, .yueo {
    display: flex;
    align-items: center;
    gap: 10px; 
}
.imag, .uncle {
    width: 150px;
    flex-shrink: 0;
    border: 5px solid #ff90ba;
}
.teex, .texas {
    flex-grow: .5;
}
/* Standardized Window styles for all windows */
  .window {
    position: absolute;
    top: 50px;
    left: 150px;
    width: 350px; /* Default width */
    background: #f0f0f0;
    border: 2px solid #000;
    box-shadow: 2px 2px 0 #fff inset, -2px -2px 0 #808080 inset;
    display: none;
    z-index: 2000;
  }

  /* Specific sizing for the Credits Archive */
  #creditsWindow {
    width: 450px;
    left: 50%;
    transform: translateX(-50%);
  }

  .window-body { 
    padding: 10px; 
    background: white; 
    border: 1px solid #808080; 
    margin: 2px; 
    font-size: 12px; 
    color: #333;
    max-height: 400px;
    overflow-y: auto;
  }

  /* Credits Content Styling */
  .credit-section {
    margin-bottom: 15px;
    border-bottom: 1px dashed #ffb7d9;
    padding-bottom: 8px;
  }
  .credit-section h2 {
    font-size: 13px;
    color: #ff6fb3;
    margin: 5px 0;
    text-transform: uppercase;
  }
  .credit-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 3px;
  }
  .credit-name { font-weight: bold; color: #692f1a; }
  .credit-source { color: #8b5a6d; font-style: italic; }
</style>
</head>

<body>

<div class="room"></div>
<div class="desk"></div>

<div class="laptop-3d">
  <div class="screen-shell">
    <div class="screen-frame">
      <div class="screen">

        <div class="desktop">
          <div class="welcome-banner" id="userGreeting">Welcome, Guest!</div>

          <div class="icon-grid">
            <div class="icon" onclick="location.href='milk.html'">
              <img src="https://caitsith.neocities.org/toro2.gif">
              <div>My Blog</div>
            </div>
          
            <div class="icon" onclick="openWindow('creditsWindow')">
              <img src="https://caitsith.neocities.org/nuko/f1756829.gif">
              <div>Credits</div>
            </div>

            <div class="icon" onclick="openWindow('readmeWindow')">
              <img src="https://caitsith.neocities.org/nuko/f1386927.gif">
              <div>README.txt</div>
            </div>

            <div class="icon" onclick="openWindow('idCardWindow')">
              <img src="https://caitsith.neocities.org/nuko/f1628778.gif">
              <div>System ID</div>
            </div>
          </div>
        </div>

        <div class="window" id="readmeWindow">
            <div class="title-bar">
                <span>README.txt - Notepad</span>
                <button class="close-btn" onclick="closeWindow('readmeWindow')">X</button>
            </div>
            <div class="window-body" style="height: 300px; overflow-y: auto;">
                <strong>SYSTEM NOTE:</strong><br>
                Thank you for logging in. This is Clemmy's Corner, a cozy, interactive 3D desktop simulation and digital shrine. This project is a love letter to the "old web," forgotten digital archives, and the personal aesthetics of its creators.<br>
                <p style="color: rgb(255, 89, 153);" >We're so eternally greatful to have you here. Now, please enjoy your stay! Don't be afraid to click around, explore everything. Especially that silly little blog...</p>
                <p style="color: rgb(255, 89, 153);">Nothing is as it seems, my friend. Remember. Nothing. PS if u can't click anything, just scroll down a bit. Give it some space :></p>
                <p>๑‧˚₊꒷︶ଓ︶꒷꒦⊹๑‧˚₊꒷︶ଓ︶꒷꒦⊹๑๑‧˚₊꒷︶ଓ︶꒷꒦⊹๑‧˚₊꒷︶ଓ︶</p>
                <div class="poot">
                 <img src="https://i.pinimg.com/736x/f5/7a/35/f57a3534054c207d3a314afdbd2352af.jpg" alt="Lumi Reyes" class="imag">
                  <div class="teex">
                    <p>Username: Lumi Reyes | Birthday: 09.20</p>
                    <p>Likes: Mlp, Violin, Jellyfish, Cookie Dough, Tumblr, Art</p>
                    <p>Dislikes: The dark, loud noises, oily surfaces</p>
                    <p>Comment: Hey it's me, Lumi! I had a lot of fun making this with Alena. Hopefully u have fun exploring...just remember, it sees you too =]</p>
                  </div>
               </div>
               <p>๑‧˚₊꒷︶ଓ︶꒷꒦⊹๑‧˚₊꒷︶ଓ︶꒷꒦⊹๑๑‧˚₊꒷︶ଓ︶꒷꒦⊹๑‧˚₊꒷︶ଓ︶</p>
               <div class="yueo">
                 <img src="https://i.pinimg.com/736x/8a/86/84/8a86846b7ee700df2dd819146cd579a1.jpg" alt="Alena Membrado" class="uncle">
                  <div class="texas">
                    <p>Username: Alena Membrado | Birthday: 10.01</p>
                    <p>Likes: Literary Analysis, Angst, Stars</p>
                    <p>Dislikes: Stagnation, Loud Noises, Tomatoes</p>
                    <p>Comment:  Hi! I’m Alena, one of the creators of this website. I love exploring forgotten corners of the internet, abandoned sites, corrupted archives, and pages that feel like they were left behind on purpose. Clemmy’s Corner grew out of that curiosity and quickly became something special to work on. Creating this site pushed me to explore ideas and skills outside of my comfort zone, and I had so much fun bringing it to life. I hope you enjoy exploring it as much as we enjoyed making it!</p>
                  </div>
               </div>
            </div>
        </div>
        <div class="window" id="creditsWindow">
          <div class="title-bar">
              <span>C:\SYSTEM\ARCHIVE\CREDITS.txt</span>
              <button class="close-btn" onclick="closeWindow('creditsWindow')">X</button>
          </div>
          <div class="window-body">
              <h1>Media References</h1>
              <p style="font-size: 10px; color: #666; margin-bottom: 15px;">
                  A tribute to the creators of the digital past.
              </p>

              <div class="credit-section">
                  <h2>Graphics & Gifs</h2>
                  <div class="credit-item">
                      <span class="credit-name">Toro Inoue Gifs</span>
                      <span class="credit-source">Caitsith.neocities</span>
                  </div>
                  <div class="credit-item">
                      <span class="credit-name">Pixel Backgrounds</span>
                      <span class="credit-source">Pinterest</span>
                  </div>
                  <div class="credit-item">
                      <span class="credit-name">UI Elements</span>
                      <span class="credit-source">...</span>
                  </div>
              </div>

              <div class="credit-section">
                  <h2>Code & Logic</h2>
                  <div class="credit-item">
                      <span class="credit-name">3D Perspective</span>
                      <span class="credit-source">Modern Web Labs</span>
                  </div>
              </div>

              <div class="credit-section" style="border:none;">
                  <h2>Special Thanks</h2>
                  <p style="font-size: 11px;">...</p>
              </div>

              <div style="text-align: center; margin-top: 20px;">
                  <img src="https://caitsith.neocities.org/toro/toro_sleep.gif" style="width: 40px;">
              </div>
          </div>
        </div>
        
        <div class="window" id="idCardWindow">
            <div class="title-bar">
                <span>System Identity Card</span>
                <button class="close-btn" onclick="closeWindow('idCardWindow')">X</button>
            </div>
            <div class="window-body" style="text-align: center;">
                <div style="width: 50px; height: 50px; background: #ffd6ea; margin: 0 auto 10px; border: 2px solid #ff9acb; display:flex; align-items:center; justify-content:center;">✿</div>
                <p><strong>Username:</strong> <span id="display-name">---</span></p>
                <p><strong>Birthday:</strong> <span id="display-birthday">---</span></p>
                <button style="font-size: 10px; padding: 2px; width: 100px; margin: 5px auto;" onclick="location.href='moth.html'">Update Info</button>
            </div>
        </div>

        <div class="window" id="entityAssistant" style="width: 280px; left: 50%; top: 50%; transform: translate(-50%, -50%); z-index: 3000;">
            <div class="title-bar">
                <span>✿ ClemmyOS Heart-to-Heart ✿</span>
                <button class="close-btn" onclick="closeWindow('entityAssistant')">X</button>
            </div>
            <div class="window-body" style="text-align: center; background: #fffcfd;">
                <img src="https://caitsith.neocities.org/toro/toro_sit.gif" style="width: 60px; margin: 10px 0;">
                <div id="assistantSpeech" style="font-size: 11px; line-height: 1.5; color: #8b5a6d; text-align: left; padding: 5px;"></div>
                <button class="task-btn" style="margin-top: 10px; width: 140px; margin-left: auto; margin-right: auto; display: block;" onclick="closeWindow('entityAssistant')">I'm glad you're here!</button>
            </div>
        </div>

        <div class="taskbar">
          <div class="taskbar-left">
            <button class="task-btn" onclick="toggleStart()">Start</button>
            <button class="task-btn" onclick="location.reload()">Home</button>
          </div>
          <div id="clock" style="font-weight: bold; color: #ffffff;"></div>
        </div>

        <div class="start-menu" id="startMenu">
          <button onclick="location.href='milk.html'">✿ Open Blog</button>
          <button onclick="openWindow('idCardWindow')">⚙ Profile Settings</button>
          <button onclick="localStorage.clear(); location.href='moth.html'">⏻ Logout</button>
        </div>

      </div> </div>
  </div>
  <div class="keyboard"></div>
</div>

<script>
window.onload = function() {
    // 1. UPDATED KEYS: Matching moth.html and index.html
    const savedName = localStorage.getItem('clemmy_name');
    const savedBirthday = localStorage.getItem('clemmy_birthday');
    const hasVisited = localStorage.getItem('clemmy_visited'); 
    
    // 2. Logic to check if user actually exists
    if (savedName) {
        // Update Desktop UI elements
        document.getElementById('userGreeting').textContent = "Current Resident: " + savedName;
        document.getElementById('display-name').textContent = savedName;
        
        if(savedBirthday) {
            document.getElementById('display-birthday').textContent = savedBirthday;
        }

        // 3. Trigger the Assistant with Personalized Lore
        setTimeout(() => {
            const assistant = document.getElementById('entityAssistant');
            const speech = document.getElementById('assistantSpeech');
            assistant.style.display = 'block';
            
            // Calculate Birthday Countdown
            let bdayMsg = "";
            if(savedBirthday) {
                const today = new Date();
                const bday = new Date(savedBirthday);
                bday.setFullYear(today.getFullYear());
                if (bday < today) bday.setFullYear(today.getFullYear() + 1);
                
                const diff = Math.ceil((bday - today) / (1000 * 60 * 60 * 24));
                bdayMsg = `Only <b>${diff} days</b> until your birthday... I'm already preparing a gift.`;
            }

            if (!hasVisited) {

                // --- FIRST TIME MESSAGE ---

                speech.innerHTML = `

                    Hello, <b>${savedName}</b>! ✿<br><br>

                    I was just looking at your records... <b>${savedBirthday}</b> is such a special day, isn't it? It's the day you arrived in the world.<br><br>

                    I've tucked that date away in a special corner of my heart. I'm so lucky you chose to spend your time with me!

                `;

                // Mark as visited so next time is the "Welcome Back" message

                localStorage.setItem('clemmy_visited', 'true');

            } else {

                // --- WELCOME BACK MESSAGE ---

                speech.innerHTML = `

                    Welcome back, <b>${savedName}</b>! ✿<br><br>

                    I watched the clock every second you were gone. It was so quiet and dark in here without you...<br><br>

                    I'm so glad you've come home to me. Let's never stay apart that long again, okay?

                `;

            }

        }, 1000);



    } else {

        window.location.href = "moth.html";

    }

};

function updateClock() {
    const clock = document.getElementById('clock');
    const d = new Date();
    clock.textContent = d.getHours().toString().padStart(2, '0') + ":" + 
                        d.getMinutes().toString().padStart(2, '0') + ":" + 
                        d.getSeconds().toString().padStart(2, '0');
}
setInterval(updateClock, 1000);
updateClock();

function toggleStart() {
    const menu = document.getElementById('startMenu');
    menu.style.display = (menu.style.display === 'flex') ? 'none' : 'flex';
}

function openWindow(id) {
    document.getElementById(id).style.display = 'block';
    document.getElementById('startMenu').style.display = 'none';
}

function closeWindow(id) {
    document.getElementById(id).style.display = 'none';
}

// Close start menu when clicking desktop
document.querySelector('.desktop').onclick = function() {
    document.getElementById('startMenu').style.display = 'none';
}
</script>
</body>
</html>