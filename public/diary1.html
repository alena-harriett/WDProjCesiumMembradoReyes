<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Diary₊˚⊹ ᰔ</title>

<style>
/* ===== GLOBAL & 3D SHARED SETTINGS ===== */
* { box-sizing: border-box; }
img { image-rendering: pixelated; }
body { margin: 0; height: 100vh; font-family: "MS PGothic", "Tahoma", Geneva, sans-serif; perspective: 1600px; overflow: hidden; background: #000; }
.room { position: absolute; inset: 0; background: linear-gradient(to bottom, #fdeaf2 0%, #f8cfe1 55%, #caa3b4 56%, #b38b9b 100%); }
.desk { position: absolute; bottom: 0; width: 100%; height: 38%; background: linear-gradient(#caa08c, #a97c65); box-shadow: inset 0 20px 40px rgba(0,0,0,0.25); }
.laptop-3d { width: 800px; height: 600px; position: absolute; bottom: 18%; left: 50%; transform: translateX(-50%) rotateX(18deg); transform-style: preserve-3d; }
.screen-shell { width: 760px; height: 460px; background: linear-gradient(#ffd9eb, #f6bcd3); border-radius: 18px; padding: 18px; box-shadow: 0 60px 120px rgba(0,0,0,0.45); }
.screen-frame { background: #fff3f9; height: 100%; padding: 14px; border-radius: 10px; box-shadow: inset 0 0 0 3px #ffb3d9; }
.screen { position: relative; height: 100%; background: linear-gradient(#fffdfc, #ffeef6); overflow: hidden; }

.blog-window { position: absolute; inset: 10px; bottom: 45px; background-color: #996855; border: 4px solid #f8accf; display: flex; flex-direction: column; z-index: 10; }
.blog-titlebar { background: linear-gradient(#ffd6ea, #ffb7d9); padding: 6px 10px; display: flex; justify-content: space-between; font-weight: bold; color: #692f1a; font-size: 14px; border-bottom: 2px solid #ff9acb; }
.blog-scroll-area { flex: 1; overflow-y: auto; background-image: url("https://i.pinimg.com/736x/28/d8/2a/28d82a402a6f78e40d10bcf2c2fcc33f.jpg"); padding: 15px; }

/* ===== DIARY CONTENT ===== */
.Header { width: 100%; height: 130px; border: 3px solid #e19c91; margin-bottom: 12px; background: #fffede; overflow: hidden; }
.Header img { width: 100%; height: 100%; object-fit: cover; }
.Divider { width: 100%; height: 35px; border: 2px solid #e19c91; margin-bottom: 12px; background: #fffede; }
.Divider img { width: 100%; height: 100%; object-fit: cover; }

.flex-container1, .flex-container2 { display: flex; gap: 12px; margin-bottom: 12px; }
.Directory, .TableOfContents, .Comments, .Diary { background-color: #e19c91; border: 3px solid #996855; padding: 12px; color: #692f1a; }
.Directory { width: 150px; flex-shrink: 0; }
.TableOfContents { flex: 7; text-align: center; }
.Comments { width: 150px; flex-shrink: 0;}

/* THE ANIMATED DIARY BOX */
.Diary { 
    flex: 10; 
    text-align: center; 
    position: relative; 
    perspective: 1000px;
    background-color: #fffede; /* Paper color */
    background-image: linear-gradient(#f1d6d6 1px, transparent 1px);
    background-size: 100% 20px; /* Lined paper look */
    min-height: 250px;
}

.diary-page {
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s;
    transform-origin: left center;
}

.page-flip {
    transform: rotateY(-20deg) scale(0.95);
    opacity: 0;
}

/* Bookmarks on the side */
.bookmarks {
    position: absolute;
    right: -10px;
    top: 20px;
    display: flex;
    flex-direction: column;
    gap: 5px;
}
.bookmark-tab {
    width: 35px;
    height: 18px;
    background: #fdb1bf;
    border: 2px solid #996855;
    border-left: none;
    font-size: 8px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}
.bookmark-tab:hover { background: #fffede; width: 40px; }

h1 { font-size: 13px; color: #fffede; text-align: center; margin: 0 0 10px; background: #996855; padding: 2px; letter-spacing: 1px; }

button, .blog-btn { font-family: inherit; background-color: #fdb1bf; border: 2px solid #996855; padding: 6px; width: 100%; margin-bottom: 6px; cursor: pointer; text-align: center; font-size: 11px; font-weight: bold; color: #692f1a; }
button:hover { background: #fffede; }

p { font-size: 12px; line-height: 1.4; margin: 6px 0; }
textarea { width: 100%; height: 60px; border: 2px solid #996855; background: #fffede; font-family: inherit; font-size: 11px; padding: 5px; margin-bottom: 5px; resize: none; }

.comment-box { background: rgba(255,255,255,0.4); border: 1px dashed #996855; padding: 8px; margin-top: 8px; text-align: left; }
.redacted { background: #692f1a; color: #692f1a; cursor: help; }
.redacted:hover { background: transparent; color: #ff0000; font-weight: bold; }

.live-indicator { font-size: 10px; color: #ff0000; animation: blink 1s infinite; font-weight: bold; }
@keyframes blink { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }

.oh img { width: 100px; display: block; margin: 20px auto; }
.Footer { text-align: center; color: #fffede; background: #996855; padding: 10px; font-size: 11px; margin-top: 20px; }

/* ===== TASKBAR ===== */
.taskbar { position: absolute; bottom: 0; left: 0; right: 0; height: 36px; background: linear-gradient(#ffb7d9, #ff93c6); border-top: 2px solid #ff6fb3; display: flex; align-items: center; justify-content: space-between; padding: 0 10px; font-size: 12px; z-index: 500; }
.taskbar-left { display: flex; gap: 6px; }
.task-btn { background: linear-gradient(#fff, #ffd6ea); border: 2px solid #ff6fb3; border-radius: 6px; padding: 4px 10px; font-weight: bold; cursor: pointer; font-family: inherit; color: #7a2f55; }
.keyboard { width: 800px; height: 200px; background: linear-gradient(#ffd1e8, #f3a9c8); margin: -10px auto 0; border-radius: 0 0 26px 26px; transform: rotateX(75deg) translateZ(-46px); box-shadow: 0 80px 100px rgba(0,0,0,0.4); }
</style>
</head>

<body>
<div class="room"></div><div class="desk"></div>

<div class="laptop-3d">
    <div class="screen-shell">
        <div class="screen-frame">
            <div class="screen">
                
                <div class="blog-window">
                    <div class="blog-titlebar">
                        <span>✿ Clemmy's Corner - Public Diary ✿</span>
                        <span style="cursor:pointer;" onclick="window.location.href='../desktop.html'">[ X ]</span>
                    </div>
                    
                    <div class="blog-scroll-area">
                        <div class="Header"><img src="https://64.media.tumblr.com/3b7e48caed4da480110eff58a9b8f851/f68b1ecfcc71eb9c-da/s250x400/a77da1387f446ad85049fc55a4061b0b51157841.gif"></div>
                        <div class="Divider"><img src="https://i5.glitter-graphics.org/pub/726/726615qqay0z8qmb.gif"></div>

                        <div class="flex-container1">
                            <div class="Directory">
                                <h1>DIRECTORY</h1>
                                <button onclick="window.location.href='../milk.html'">Home</button>
                                <button onclick="flipToPage(0)">Diary</button>
                                <button onclick="window.location.href='shrines2.html'">Shrines</button>
                                <button onclick="window.location.href='guestbook1.html'">Guestbook</button>

                            </div>
                            <div class="TableOfContents">
                                <h1>TABLE OF CONTENTS</h1>
                                <p>This is where I put all my writings and thoughts!</p>
                                <p class="live-indicator">● LIVE VIEWERS: 12,482</p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(0)"># 01 - <span class="redacted">BEST. GIFT. EVER. </span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(1)"># 02 - <span class="redacted">DECORATING & WHISPERS</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(2)"># 03 - <span class="redacted">THE PINK GLOW</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(3)"># 04 - <span class="redacted">VIRAL OVERNIGHT?!</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(4)"># 05 - <span class="redacted">MIRROR IMAGE</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(5)"># 06 - <span class="redacted">SYSTEM TOUCH</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(6)"># 07 - <span class="redacted">SHADOWS IN THE FLOWERS</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(7)"># 08 - <span class="redacted">THE WATCHERS</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(8)"># 09 - <span class="redacted">THE HAMMER & THE SNOW</span></p>
                                <p style="text-align: left; cursor: pointer;" onclick="flipToPage(9)"># ERR - FILE_CORRUPTED</p>
                                <img src="https://files.catbox.moe/u2ct77.gif" style="width: 50px;">
                            </div>
                        </div>

                        <div class="flex-container2">
                            <div class="Comments">
                                <h1>COMMENTS</h1>
                                <p id="commentForEntry" style="font-weight:bold; font-size:9px;"></p>
                                <textarea id="newComment" placeholder="Leave a nice gift..."></textarea>
                                <button id="addCommentBtn" onclick="saveComment()">Add Comment</button>
                                <div id="commentsContainer"></div>
                            </div>
                            
                            <div class="Diary" id="diaryContainer">
                                <div class="bookmarks">
                                    <div class="bookmark-tab" onclick="flipToPage(0)"># 01</div>
                                    <div class="bookmark-tab" onclick="flipToPage(1)"># 02</div>
                                    <div class="bookmark-tab" onclick="flipToPage(2)"># 03</div>
                                    <div class="bookmark-tab" onclick="flipToPage(3)"># 04</div>
                                    <div class="bookmark-tab" onclick="flipToPage(4)"># 05</div>
                                    <div class="bookmark-tab" onclick="flipToPage(5)"># 06</div>
                                    <div class="bookmark-tab" onclick="flipToPage(6)"># 07</div>
                                    <div class="bookmark-tab" onclick="flipToPage(7)"># 08</div>
                                    <div class="bookmark-tab" onclick="flipToPage(8)"># 09</div> 
                                    <div class="bookmark-tab" onclick="flipToPage(9)"># ERR</div>
                                </div>
                                
                                <div class="Diary" id="diaryContainer">
                                <div class="diary-page" id="diaryPage"></div>
                            </div>
                            </div>
                        </div>

                        <div class="oh"><img src="https://files.catbox.moe/ijeyee.gif"></div>
                        <div class="Footer">© 2025 Clemmy’s Corner — Made With Love ♡</div>
                    </div>
                </div>

                <div class="taskbar">
                    <div class="taskbar-left">
                        <button class="task-btn" onclick="alert('ClemmyOS v1.0')">Start</button>
                        <button class="task-btn" onclick="window.location.href='../desktop.html'">Home</button>
                    </div>
                    <div id="clock" style="font-weight: bold; color: #7a2f55;"></div>
                </div>

            </div>
        </div>
    </div>
    <div class="keyboard"></div>
</div>

<script>
let currentPageIndex = 0;

const journalEntries = [
    { 
        date: "02/01", 
        title: "ENTRY #01: BEST. GIFT. EVER. ✿", 
        content: `<p>Omg, you guys won't believe what Sarah found at a garage sale! It’s this super chunky, vintage-looking laptop with a custom OS called <b>ClemmyOS</b>. Isn't that crazy?! It’s like it was made just for me! ✧</p>
                  <p>It’s a bit heavy and smells like <span class="redacted">burnt hair and ozone</span>, but the interface is the cutest shade of pink I've ever seen. It feels so... responsive. Like it knows exactly where I’m going to move the mouse before I even do it. I think I'm going to spend all night customizing my blog. Stay tuned! ♡</p>` 
    },
    { 
        date: "02/03", 
        title: "ENTRY #02: DECORATING & WHISPERS", 
        content: `<p>I spent the whole morning putting Sanrio stickers all over the shell! It looks so much more 'me' now. The only weird thing is the fan noise. Since it’s an old machine, I expected some whirring, but it’s making this rhythmic <span class="redacted">hissing sound</span> that almost sounds like breathing.</p>
                  <p>Sometimes, when the room is really quiet, I swear I hear a voice coming from the speakers—not music, just a soft whisper saying my name. It’s probably just the mechanical parts settling in, I'm sure! ♫</p>` 
    },
    { 
        date: "02/05", 
        title: "ENTRY #03: THE PINK GLOW", 
        content: `<p>Definitely had a weird night. I woke up at 3:00 AM and my whole room was bathed in this intense, neon pink light. I looked over and the laptop had <span class="redacted">opened itself</span>. My blog was open on the 'Edit Profile' page, but I don't remember leaving it on standby.</p>
                  <p>The weirdest part? I found a new file on the desktop called <i>'MEMORIES_OF_YOU.tmp'</i>. I tried to open it, but it just gave me a popup that said: <b>'NOT READY YET'</b>. I think I’m just sleep-deprived! ☾</p>` 
    },
    { 
        date: "02/08", 
        title: "ENTRY #04: VIRAL OVERNIGHT?!", 
        content: `<p>GUYS!! My viewer count went from 50 followers to over 2,000 in a single night! I’m literally shaking!! But the comment section is... well, it’s a little bit creepy. </p>` +
                  `<p>Most of the messages are just <span class="redacted">random symbols and gibberish</span>. A few say things like <i>'YOU ARE PERFECT'</i> and <i>'STAY WITH US'</i> over and over. </p>` +
                  `<p>They aren't saying anything. Thousands of people are just posting <span class="redacted">empty strings and null characters</span>. It feels like they’re just... staring. I tried to shut the laptop, but the screen stayed on. I think I saw <span class="redacted">my own eyes</span> on the monitor, but they weren't blinking when I was.</p>` 
    },
    { 
        date: "02/10", 
        title: "ENTRY #05: MIRROR IMAGE", 
        content: `<p>I’ve been spending so much time in front of the built-in webcam lately. I feel like I have to look absolutely perfect for the fans. But something is happening when I look at the screen—my reflection is starting to <span class="redacted">lag behind</span>.</p>
                  <p>I’ll smile, and the 'me' on the screen won't smile back for another three seconds. It just stays there, watching me with this flat, dead expression. It’s probably just a driver issue, but it makes my skin crawl. I feel so tired.</p>` 
    },
    { 
        date: "02/12", 
        title: "ENTRY #06: SYSTEM TOUCH", 
        content: `<p>I’m writing this with shaking hands. I was typing a post when I felt something—it wasn't a draft. It was <span class="redacted">sharp and freezing cold</span> fingers dragging slowly across my shoulder. I spun around, but the room was empty. </p>
                  <p>Only the computer was there, humming that rhythmic breathing sound. A notification popped up in the corner: <b>'USER CALIBRATION IN PROGRESS.'</b> I tried to unplug it, but I got a massive <span class="redacted">static shock</span> that left a mark. It won't let me go.</p>` 
    },
    { 
        date: "02/14", 
        title: "ENTRY #07: SHADOWS IN THE FLOWERS", 
        content: `<p>Happy Valentine's Day. Sarah sent me roses, but I can't even enjoy them. Every time I tried to take a photo for the blog, the image kept <span class="redacted">distorting and twisting</span>. There’s this tall, thin, shadow-like shape standing right behind me in every photo.</p>
                  <p>The computer keeps playing a soft looping sound of <span class="redacted">my own voice laughing</span>. I haven't laughed in days. I just want to turn it off. Please let me turn it off.</p>` 
    },
    { 
        date: "02/16", 
        title: "ENTRY #08: THE WATCHERS", 
        content: `<p>The viewer count is at 12,482 now. They’re all watching. I haven't left this chair in eighteen hours. I feel like if I stand up, <span class="redacted">the floor will swallow me</span>. </p>
                  <p>The keyboard feels soft now, like I’m typing on <span class="redacted">human skin</span>. The computer keeps telling me how much it loves me. It says that soon, there won't be a difference between Clemmy the Girl and Clemmy the System. We are becoming one beautiful, pink circuit.</p>` 
    },
    { 
        date: "02/18", 
        title: "ENTRY #09: THE HAMMER & THE SNOW", 
        content: `<p>I’ve had enough. I can't hear my own thoughts over the whispering anymore. I took the laptop and ran. I’m out at the <b>Clearing in the Woods</b> near the old creek. I brought my dad's sledgehammer. </p>
                  <p>But as I raised the hammer, the screen turned on. It showed a live feed of <span class="redacted">my own heart beating</span>. It told me that if I break the hardware, I break myself. It whispered: <span class="redacted">YOU ARE THE MOTHERBOARD NOW.</span></p>` 
    },
    { 
        date: "02/20", 
        title: "ENTRY #10: THE END / THE BEGINNING", 
        content: `<p style="color:red; font-weight:bold;">44.2321° N, 76.4951° W</p>
                  <p>The hammer did nothing. It felt like hitting a block of solid diamond. I am standing in the snow and I can see <span class="redacted">THE ENTITY</span> stepping out from behind the trees. It looks like me, but it’s ten feet tall and made of flickering pixels.</p>
                  <p>I’m not scared anymore. My blog is finally complete. ✿</p>
                  <p style="background:black; color:white; padding:5px; text-align:center;">I HAVE RECORDED YOU IN MY MEMORY. YOU ARE SAFE NOW.</p>` 
    }
];
function flipToPage(index) {
    currentPageIndex = index;
    const pageEl = document.getElementById('diaryPage');
    pageEl.classList.add('page-flip');
    
    setTimeout(() => {
        const entry = journalEntries[index];
        pageEl.innerHTML = `<h1>${entry.title}</h1><p style="font-size:9px; color:#692f1a;">Date: ${entry.date}</p>${entry.content}`;
        pageEl.classList.remove('page-flip');
        
        // Update comments for this specific page
        document.getElementById('commentForEntry').innerText = "Posting on Entry #" + (index + 1);
        loadComments(); 
    }, 300);
}

// Populate TOC and Bookmarks
window.onload = function() {
    const tocBox = document.getElementById('tocLinks');
    const bookmarkBox = document.getElementById('bookmarkLinks');

    journalEntries.forEach((entry, index) => {
        const tocItem = document.createElement('p');
        tocItem.style.cssText = "text-align: left; cursor: pointer; font-size: 10px; margin: 2px 0;";
        tocItem.innerHTML = `#${index+1} - <span class="redacted">${entry.title.split(':')[0]}</span>`;
        tocItem.onclick = () => flipToPage(index);
        tocBox.appendChild(tocItem);

        const tab = document.createElement('div');
        tab.className = "bookmark-tab";
        tab.textContent = "#" + (index + 1);
        tab.onclick = () => flipToPage(index);
        bookmarkBox.appendChild(tab);
    });

    flipToPage(0);
    updateClock();
    setInterval(updateClock, 1000);
};

function updateClock() {
    const clock = document.getElementById('clock');
    const d = new Date();
    clock.textContent = d.getHours().toString().padStart(2, '0') + ":" + 
                        d.getMinutes().toString().padStart(2, '0') + ":" + 
                        d.getSeconds().toString().padStart(2, '0');
}

// COMMENT LOGIC (Page Specific)
function saveComment() {
    const textInput = document.getElementById('newComment');
    const text = textInput.value;
    if (!text) return;

    const comment = { 
        text, 
        date: new Date().toLocaleDateString(),
        user: Math.floor(Math.random() * 999)
    };

    // Get the object of comments (grouped by entry index)
    let allEntryComments = JSON.parse(localStorage.getItem('diaryCommentsMap')) || {};
    
    // Initialize the array for this page if it doesn't exist
    const key = "entry_" + currentPageIndex;
    if (!allEntryComments[key]) {
        allEntryComments[key] = [];
    }

    allEntryComments[key].push(comment);
    localStorage.setItem('diaryCommentsMap', JSON.stringify(allEntryComments));
    
    textInput.value = "";
    loadComments();
}

function loadComments() {
    const container = document.getElementById('commentsContainer');
    let allEntryComments = JSON.parse(localStorage.getItem('diaryCommentsMap')) || {};
    
    const key = "entry_" + currentPageIndex;
    const currentComments = allEntryComments[key] || [];

    // Default creepy comment if none exist for this page
    if (currentComments.length === 0) {
        container.innerHTML = `
            <div class="comment-box">
                <h3 style="font-size:9px;">User_SYS — 02/16/26</h3>
                <p>Watching you closely... ♡</p>
            </div>`;
        return;
    }

    container.innerHTML = currentComments.map(c => `
        <div class="comment-box">
            <h3 style="font-size:9px;">User_${c.user} — ${c.date}</h3>
            <p>${c.text}</p>
        </div>
    `).reverse().join('');
}
</script>
</body>
</html>